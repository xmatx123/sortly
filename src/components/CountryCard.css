/* src/components/CountryCard.css */

.country-card {
  background-color: #fff;
  border-radius: 8px;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.09);
  padding: 0;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.09);
  padding: 0;
  margin: 0;
  margin-right: 10px;
  /* Default: No overlap, small gap */
  width: 140px;
  /* Fixed width for readability */
  min-width: 140px;
  /* Force minimum width to prevent crushing */
  height: 200px;
  /* Fixed height */
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  position: relative;
  cursor: default;
  transition: margin 0.3s ease, box-shadow 0.2s ease, transform 0.2s ease;
  perspective: 1000px;
  overflow: hidden;
  flex-shrink: 0;
  z-index: 1;
  /* Default z-index */
}

/* Conditional Overlap: Applied when parent has 'overlapped' class */
.sorted-countries.overlapped .country-card {
  margin-right: -100px;
}

/* On hover (optional) or selection, maybe pop it up? */
.country-card:hover {
  z-index: 15;
  /* Bring to front on hover if desired */
}

.country-card:last-child {
  margin-right: 0;
}

/* Add cursor pointer for clickable/flippable cards */
.country-card.clickable,
.country-card.flippable {
  cursor: pointer;
}

.country-card.clickable:hover {
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.14);
  transform: scale(1.03);
}

.country-card .country-flag {
  width: 100%;
  height: 90px;
  object-fit: cover;
  display: block;
  margin: 0;
  padding: 0;
  border: none;
  border-bottom: 1px solid #f0f0f0;
  border-radius: 8px 8px 0 0;
  transform: scale(1.02);
  /* Slight zoom to prevent sub-pixel gaps */
}

.country-info {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  /* Center vertically in remaining space */
  padding: 0 10px 10px 10px;
  /* Add padding below flag */
  text-align: center;
  /* Center text */
}

.country-name {
  font-size: 0.85rem;
  /* Adjust size for thinner card */
  font-weight: 600;
  margin: 0;
  color: #333;
  line-height: 1.2;
  word-wrap: break-word;
  /* Allow long names to wrap */
}

.country-detail {
  font-size: 0.75rem;
  /* Adjust size */
  color: #555;
  margin-top: 5px;
}

/* Highlight Styles */
.country-card.highlighted-incorrect {
  border: 2px solid #dc3545;
  /* Red border for incorrect */
}

.country-card.highlighted-correct {
  border: 2px solid #28a745;
  /* Green border for correct */
}

.country-card.selected-for-placing {
  outline: 3px solid #007bff;
  /* Blue outline when selected */
  outline-offset: 2px;
}

.country-card.disabled-card {
  opacity: 0.6;
  cursor: not-allowed;
}

/* --- Flip Animation CSS --- */
.card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  transition: transform 0.6s;
  transform-style: preserve-3d;
}

.country-card.flipped .card-inner {
  transform: rotateY(180deg);
}

.card-face {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  background-color: #fff;
  border-radius: 8px;
  /* Match card radius */
  display: flex;
  flex-direction: column;
  /* Stack flag and info */
  align-items: center;
  /* Center items horizontally */
  justify-content: flex-start;
  /* Align to top */
  padding: 0;
  /* Remove padding here, handled by flag/info */
  box-sizing: border-box;
}

.card-front {
  /* Face itself doesn't need specific styles now */
}

.card-back {
  transform: rotateY(180deg);
  color: #333;
  justify-content: center;
  /* Center back content better */
}

/* Ensure flag/info structure is maintained on back */
.card-back .country-flag {
  /* Keep flag style */
}

.card-back .country-info {
  /* Keep info style */
  padding-top: 10px;
  /* Add padding if flag isn't shown on back */
}

.card-back .country-name {
  /* Keep name style */
}

/* --- End Flip Animation CSS --- */

/* Add styles for highlighted cards */
.card-face.highlighted-incorrect {
  background-color: #f8d7da;
  /* Light red background */
  border: 2px solid #f5c6cb;
  /* Light red border */
}

.card-face.highlighted-incorrect .country-name,
.card-face.highlighted-incorrect .country-detail {
  color: #721c24;
  /* Dark red text */
}

/* Correct Highlight Styles */
.card-face.highlighted-correct {
  background-color: #d4edda;
  /* Light green background */
  border: 2px solid #c3e6cb;
  /* Light green border */
}

.card-face.highlighted-correct .country-name,
.card-face.highlighted-correct .country-detail {
  color: #155724;
  /* Dark green text */
}

/* Style for the card selected for placement in Cooperation Mode */
.country-card.selected-for-placing .card-front,
.country-card.selected-for-placing .card-back {
  background-color: #d4edda !important;
  /* Light green background */
  border: 1px solid #c3e6cb !important;
  /* Subtle border */
  box-shadow: 0 0 10px rgba(40, 167, 69, 0.3) !important;
  /* Subtle glow */
  /* Keep other face styles like radius if needed */
}

/* Responsive Design - Adjustments for smaller screens if needed, but KEEP WIDTH */
@media (max-width: 768px) {

  /* We might want slightly smaller but still readable on very small phones?
     Actually, let's keep them 140px for now as per "Full Width" requirement.
     If 140px is too big, maybe 120px, but 75px was definitely too small.
  */
  .country-card {
    /* Optional: slightly smaller strictly for very narrow devices if needed */
    /* width: 130px; */
    /* min-width: 130px; */
  }
}